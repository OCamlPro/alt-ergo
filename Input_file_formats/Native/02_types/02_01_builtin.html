

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Built-in &mdash; Doc-Alt-Ergo  documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/dac_theme_modif.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="User-defined types" href="02_02_user_defined.html" />
    <link rel="prev" title="Types" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Doc-Alt-Ergo
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../Install/index.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Usage/index.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Input file formats</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Alt-Ergo's native language</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../00_summary.html"> Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../01_declaration_of_symbols.html"> Declaration of symbols</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html"> Types</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#"> Built-in</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#built-in-types">Built-in types</a></li>
<li class="toctree-l5"><a class="reference internal" href="#built-in-operators">Built-in operators</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="02_02_user_defined.html"> User-defined</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../03_declaration_of_axioms.html"> Declaration of axioms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../04_setting_goals.html"> Setting goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../05_theories.html"> Theories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../06_control_flow.html"> Control Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../07_syntax_of_declarations_and_expressions.html"> Syntax of declarations and expressions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference external" href="http://smtlib.cs.uiowa.edu/papers/smt-lib-reference-v2.6-r2017-07-18.pdf">SMT-LIB</a></li>
<li class="toctree-l2"><a class="reference external" href="http://why3.lri.fr/doc/syntaxref.html">WhyML (partial support)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../API/index.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Dev/index.html">Developer's documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../About/index.html">About</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Doc-Alt-Ergo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">Input file formats</a> &raquo;</li>
        
          <li><a href="../index.html">Alt-Ergo’s native language</a> &raquo;</li>
        
          <li><a href="index.html">Types</a> &raquo;</li>
        
      <li>Built-in</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="built-in">
<h1>Built-in<a class="headerlink" href="#built-in" title="Permalink to this headline">¶</a></h1>
<div class="section" id="built-in-types">
<h2>Built-in types<a class="headerlink" href="#built-in-types" title="Permalink to this headline">¶</a></h2>
<p>Alt-Ergo’s native language includes the following built-in types.
Creation and manipulation of values having those types are covered in <a class="reference external" href="#built-in-operators">built-in operators</a>.</p>
<div class="section" id="boolean-types">
<h3>Boolean types<a class="headerlink" href="#boolean-types" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span></code>, the preferred type to represent propositional variables. Boolean constants are <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code>, an historical type still supported in Alt-Ergo 2.3.0.<br />The historical separation comes from Alt-Ergo origins in the Coq ecosystem: in Coq, <code class="docutils literal notranslate"><span class="pre">prop</span></code> is much richer than <code class="docutils literal notranslate"><span class="pre">bool</span></code>.<br />In Alt-Ergo 2.3.0, <code class="docutils literal notranslate"><span class="pre">prop</span></code> and <code class="docutils literal notranslate"><span class="pre">bool</span></code> have been merged in order to simplify interactions with the <a class="reference external" href="http://smtlib.cs.uiowa.edu/">SMT-LIB </a> standard.<br />More information on the <code class="docutils literal notranslate"><span class="pre">bool</span></code>/<code class="docutils literal notranslate"><span class="pre">prop</span></code> conflict can be found in <a class="reference external" href="#the-bool-prop-conflict">this section</a>.</p></li>
</ul>
</div>
<div class="section" id="numeric-types">
<h3>Numeric types<a class="headerlink" href="#numeric-types" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">int</span></code> for (arbitrary large) integers.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">real</span></code> for reals. This type actually represents the smallest extension of the rationals which is algebraically closed and closed by exponentiation. Rationals with arbitrary precision are used under the hood.</p></li>
</ul>
</div>
<div class="section" id="unit-type">
<h3>Unit type<a class="headerlink" href="#unit-type" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">unit</span></code> is Alt-Ergo native language’s <a class="reference external" href="https://en.wikipedia.org/wiki/Unit_type">unit type</a>.</p>
</div>
<div class="section" id="bitvectors">
<h3>Bitvectors<a class="headerlink" href="#bitvectors" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">bitv</span></code> are fixed-size binary words of arbitrary length.
There exists a bitvector type <code class="docutils literal notranslate"><span class="pre">bitv[n]</span></code> for each non-zero positive integer <code class="docutils literal notranslate"><span class="pre">n</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">bitv[8]</span></code> is a bitvector of length <code class="docutils literal notranslate"><span class="pre">8</span></code>.</p>
</div>
<div class="section" id="type-variables">
<h3>Type variables<a class="headerlink" href="#type-variables" title="Permalink to this headline">¶</a></h3>
<p>Alt-Ergo’s native language’s type system supports prenex polymorphism. This allows efficient reasoning about generic data structure.
Type variables can be created implicitly, and are implicitly universally quantified in all formulas. Any formula which requires a type can accept a type variable.
Type variable may be used to parametrize datatypes, as we will see when we will create new types, or in the following example of <code class="docutils literal notranslate"><span class="pre">farray</span></code>.</p>
<p>Type variables are indicated by an apostrophe <code class="docutils literal notranslate"><span class="pre">'</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">'a</span></code> is a type variable.</p>
</div>
<div class="section" id="polymorphic-functional-arrays">
<h3>Polymorphic functional arrays<a class="headerlink" href="#polymorphic-functional-arrays" title="Permalink to this headline">¶</a></h3>
<p>Alt-Ergo’s native language includes functional polymorphic arrays, represented by the <code class="docutils literal notranslate"><span class="pre">farray</span></code> type, and has a built-in theory to reason about them.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">farray</span></code> is parametrized by two types: the type of their indexes (default is <code class="docutils literal notranslate"><span class="pre">int</span></code>) and the type of their values (no default).
Array can be accessed using any index of valid type.
Functional polymorphic arrays are persistent structures: they may be updated, but only for the scope of an expression.</p>
</div>
</div>
<div class="section" id="built-in-operators">
<h2>Built-in operators<a class="headerlink" href="#built-in-operators" title="Permalink to this headline">¶</a></h2>
<div class="section" id="logical-operators">
<h3>Logical operators<a class="headerlink" href="#logical-operators" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<thead>
<tr>
<th>Operation</th>
<th>Notation</th>
<th>Type(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Negation</td>
<td><code>not p</code></td>
<td><code>bool -&gt; bool</code></td>
</tr>
<tr>
<td>Conjonction</td>
<td><code>p and q</code></td>
<td><code>bool, bool -&gt; bool</code></td>
</tr>
<tr>
<td>Disjonction</td>
<td><code>p or q</code></td>
<td><code>bool, bool -&gt; bool</code></td>
</tr>
<tr>
<td>Implication</td>
<td><code>p -&gt; q</code></td>
<td><code>bool, bool -&gt; bool</code></td>
</tr>
<tr>
<td>Equivalence</td>
<td><code>p &lt;-&gt; q</code></td>
<td><code>bool, bool -&gt; bool</code></td>
</tr>
<tr>
<td>Exclusive or</td>
<td><code>p xor q</code></td>
<td><code>bool, bool -&gt; bool</code></td>
</tr>
</tbody>
</table><p>For all those operators, <code class="docutils literal notranslate"><span class="pre">bool</span></code> and <code class="docutils literal notranslate"><span class="pre">prop</span></code> are fully interchangeable.</p>
<div class="section" id="the-bool-prop-conflict">
<h4>The <code class="docutils literal notranslate"><span class="pre">bool</span></code>/<code class="docutils literal notranslate"><span class="pre">prop</span></code> conflict<a class="headerlink" href="#the-bool-prop-conflict" title="Permalink to this headline">¶</a></h4>
<p>Prior to Alt-Ergo 2.3.0, Alt-Ergo’s native language handled differently boolean variables <code class="docutils literal notranslate"><span class="pre">bool</span></code> and propositional variables <code class="docutils literal notranslate"><span class="pre">prop</span></code>.
The two keywords still exist in Alt-Ergo 2.3.0, but those two types have been made fully compatible: any function or operator taking a <code class="docutils literal notranslate"><span class="pre">bool</span></code> or a <code class="docutils literal notranslate"><span class="pre">prop</span></code> as an argument accepts both.</p>
<p>The historical separation comes from Alt-Ergo origins in the Coq ecosystem: in Coq, <code class="docutils literal notranslate"><span class="pre">prop</span></code> is much richer than <code class="docutils literal notranslate"><span class="pre">bool</span></code>.
In Alt-Ergo 2.3.0, <code class="docutils literal notranslate"><span class="pre">prop</span></code> and <code class="docutils literal notranslate"><span class="pre">bool</span></code> have been merged in order to simplify interactions with the <a class="reference external" href="http://smtlib.cs.uiowa.edu/">SMT-LIB </a> standard.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">bool</span></code> can be used in more syntactic constructs than <code class="docutils literal notranslate"><span class="pre">prop</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code> <strong>cannot</strong> be the input or output type of a <em>interpreted function</em> (<code class="docutils literal notranslate"><span class="pre">function</span></code> keyword), whereas <code class="docutils literal notranslate"><span class="pre">bool</span></code> can.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code> <strong>cannot</strong> be used in the <em>declaration of new types</em> (<code class="docutils literal notranslate"><span class="pre">type</span></code> keyword), whereas <code class="docutils literal notranslate"><span class="pre">bool</span></code> can.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code> <strong>cannot</strong> be used as the value of a type variable, whereas <code class="docutils literal notranslate"><span class="pre">bool</span></code> can.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code> <strong>cannot</strong> be the input of an <em>uninterpreted function</em> (<code class="docutils literal notranslate"><span class="pre">logic</span></code> keyword), whereas <code class="docutils literal notranslate"><span class="pre">bool</span></code> can.
In all other cases, it is advised the use <code class="docutils literal notranslate"><span class="pre">prop</span></code> rather than <code class="docutils literal notranslate"><span class="pre">bool</span></code>, because it is better handled internally by Alt-Ergo. However, using <code class="docutils literal notranslate"><span class="pre">bool</span></code> would be correct.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code> and <code class="docutils literal notranslate"><span class="pre">bool</span></code> <strong>can</strong> be the output type of an <em>uninterpreted function</em> (<code class="docutils literal notranslate"><span class="pre">logic</span></code> keyword).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code> and <code class="docutils literal notranslate"><span class="pre">bool</span></code> <strong>can</strong> be the type of an <em>uninterpreted variable</em> (<code class="docutils literal notranslate"><span class="pre">logic</span></code> keyword).
Note that a <code class="docutils literal notranslate"><span class="pre">predicate</span></code> has <code class="docutils literal notranslate"><span class="pre">prop</span></code> output type.</p></li>
</ul>
</div>
<div class="section" id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="n">Correct</span> <span class="n">example</span> <span class="o">*</span><span class="p">)</span>
<span class="n">logic</span> <span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">:</span> <span class="n">prop</span>
<span class="n">axiom</span> <span class="n">a1</span><span class="p">:</span> <span class="n">A</span> <span class="o">-&gt;</span> <span class="n">B</span>
<span class="n">axiom</span> <span class="n">a2</span><span class="p">:</span> <span class="n">B</span> <span class="o">-&gt;</span> <span class="n">C</span>
<span class="n">goal</span> <span class="n">g</span><span class="p">:</span> <span class="p">(</span><span class="n">B</span><span class="o">-&gt;</span><span class="n">A</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">C</span><span class="o">-&gt;</span><span class="n">B</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">A</span> <span class="o">&lt;-&gt;</span> <span class="n">C</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="n">Equivalent</span> <span class="n">example</span> <span class="n">using</span> <span class="nb">bool</span> <span class="o">*</span><span class="p">)</span>
<span class="n">logic</span> <span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">:</span> <span class="nb">bool</span>
<span class="n">axiom</span> <span class="n">a1</span><span class="p">:</span> <span class="n">A</span> <span class="o">-&gt;</span> <span class="n">B</span>
<span class="n">axiom</span> <span class="n">a2</span><span class="p">:</span> <span class="n">B</span> <span class="o">-&gt;</span> <span class="n">C</span>
<span class="n">goal</span> <span class="n">g</span><span class="p">:</span> <span class="p">(</span><span class="n">B</span><span class="o">-&gt;</span><span class="n">A</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">C</span><span class="o">-&gt;</span><span class="n">B</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">A</span> <span class="o">&lt;-&gt;</span> <span class="n">C</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="numeric-operators">
<h3>Numeric operators<a class="headerlink" href="#numeric-operators" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<thead>
<tr>
<th>Operation</th>
<th>Notation</th>
<th>Type(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Unary negative</td>
<td><code>-x</code></td>
<td><code>int -&gt; int</code>, <br><code>real -&gt; real</code></td>
</tr>
<tr>
<td>Addition</td>
<td><code>x + y</code></td>
<td><code>int, int -&gt; int</code>, <br><code>real, real -&gt; real</code></td>
</tr>
<tr>
<td>Subtraction</td>
<td><code>x - y</code></td>
<td><code>int, int -&gt; int</code>, <br><code>real, real -&gt; real</code></td>
</tr>
<tr>
<td>Multiplication</td>
<td><code>x * y</code></td>
<td><code>int, int -&gt; int</code>, <br><code>real, real -&gt; real</code></td>
</tr>
<tr>
<td>Division</td>
<td><code>x / y</code></td>
<td><code>int, int -&gt; int</code>, <br><code>real, real -&gt; real</code></td>
</tr>
<tr>
<td>Remainder</td>
<td><code>x % y</code></td>
<td><code>int, int -&gt; int</code></td>
</tr>
<tr>
<td>Exponentiation (<code>int</code>)</td>
<td><code>x ** y</code></td>
<td><code>int, int -&gt; int</code></td>
</tr>
<tr>
<td>Exponentiation (<code>real</code>)</td>
<td><code>x **. y</code></td>
<td><code>real, real -&gt; real</code>, <br><code>real, int -&gt; real</code>, <br><code>int, real -&gt; real</code>, <br><code>int, int -&gt; real</code></td>
</tr>
</tbody>
</table></div>
<div class="section" id="comparisons">
<h3>Comparisons<a class="headerlink" href="#comparisons" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<thead>
<tr>
<th>Operation</th>
<th>Notation</th>
<th>Type(s)</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Equality</td>
<td><code>x = y</code></td>
<td><code>'a, 'a -&gt; bool</code></td>
<td><code>'a</code> can be any type</td>
</tr>
<tr>
<td>Inequality</td>
<td><code>x &lt;&gt; y</code></td>
<td><code>'a, 'a -&gt; bool</code></td>
<td>Syntactic sugar for <code>not(x = y)</code></td>
</tr>
<tr>
<td>All distinct</td>
<td><code>distinct(x1,x2,x3, ..., xn)</code></td>
<td><code>'a, 'a, ..., 'a -&gt; bool</code></td>
<td>Can be used on any number of operands. <br> Syntactic sugar for  <code>(x1&lt;&gt;x2) and ... and (x1&lt;&gt;xn) and (x2&lt;&gt;x3) and ...</code></td>
</tr>
<tr>
<td>Strictly less than</td>
<td><code>x &lt; y</code></td>
<td><code>int, int -&gt; bool</code>, <br><code>real, real -&gt; bool</code></td>
<td></td>
</tr>
<tr>
<td>Lesser than or equal to</td>
<td><code>x &lt;= y</code></td>
<td><code>int, int -&gt; bool</code>, <br><code>real, real -&gt; bool</code></td>
<td></td>
</tr>
<tr>
<td>Strictly greater than</td>
<td><code>x &gt; y</code></td>
<td><code>int, int -&gt; bool</code>, <br><code>real, real -&gt; bool</code></td>
<td></td>
</tr>
<tr>
<td>Greater than or equal to</td>
<td><code>x &gt;= y</code></td>
<td><code>int, int -&gt; bool</code>, <br><code>real, real -&gt; bool</code></td>
<td></td>
</tr>
</tbody>
</table><p>Note that binary comparisons operators can be chained: if <code class="docutils literal notranslate"><span class="pre">op1</span></code>, <code class="docutils literal notranslate"><span class="pre">op2</span></code>, … are binary comparisons operators, than <code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">op1</span> <span class="pre">x1</span> <span class="pre">op2</span> <span class="pre">x2</span> <span class="pre">...</span></code> has the same semantic as <code class="docutils literal notranslate"><span class="pre">(x0</span> <span class="pre">op1</span> <span class="pre">x1)</span> <span class="pre">and</span> <span class="pre">(x1</span> <span class="pre">op2</span> <span class="pre">x2)</span> <span class="pre">and</span> <span class="pre">...</span></code>.</p>
<p>One use of this is the creation of intervals, as in the following example.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="n">Linear</span> <span class="n">arithmetic</span> <span class="n">over</span> <span class="n">integers</span> <span class="o">*</span><span class="p">)</span>
<span class="n">goal</span> <span class="n">g</span><span class="p">:</span>
    <span class="n">forall</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">t</span><span class="p">:</span><span class="nb">int</span><span class="o">.</span>
    <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span> <span class="o">&lt;=</span> <span class="mi">1</span>  <span class="o">-&gt;</span>
    <span class="n">x</span> <span class="o">+</span> <span class="n">t</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-&gt;</span>
    <span class="n">y</span> <span class="o">+</span> <span class="n">z</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="o">-&gt;</span>
    <span class="n">x</span> <span class="o">+</span> <span class="n">t</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>Bitvectors<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Remember that bitvectors are fixed-size binary words: vectors of <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>There exists a bitvector type <code class="docutils literal notranslate"><span class="pre">bitv[n]</span></code> for each fixed non-zero positive integer <code class="docutils literal notranslate"><span class="pre">n</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">bitv[8]</span></code> is a bitvector.</p>
<p>Note that bitvectors are indexed from right to left.</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Operation</th>
<th>Notation</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>Explicit declaration</td>
<td><code>[|&lt;x&gt;|]</code> <br> where <code>&lt;x&gt;</code> is a string of <code>0</code> and <code>1</code> without spaces</td>
<td><code>bitv[&lt;len(x)&gt;]</code></td>
</tr>
<tr>
<td>Concatenation</td>
<td><code>x @ y</code></td>
<td>bitv[n], bitv[m] -&gt; bitv[n+m]</td>
</tr>
<tr>
<td>Extraction of contiguous bits</td>
<td><code>x^{p,q}</code> <br> where 0&lt;=p&lt;=q&lt;len(x)</td>
<td><code>bitv[q-p+1]</code></td>
</tr>
</tbody>
</table><div class="section" id="id2">
<h4>Examples<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">**</span> <span class="n">Usage</span> <span class="n">of</span> <span class="n">bitv</span> <span class="n">types</span> <span class="o">*</span><span class="p">)</span>
<span class="n">logic</span> <span class="n">register</span><span class="p">:</span> <span class="n">bitv</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span>

<span class="p">(</span><span class="o">**</span> <span class="n">Explicit</span> <span class="n">declaration</span> <span class="o">*</span><span class="p">)</span>
<span class="n">axiom</span> <span class="n">a</span><span class="p">:</span> <span class="n">register</span> <span class="o">=</span> <span class="p">[</span><span class="o">|</span><span class="mi">00101010</span><span class="o">|</span><span class="p">]</span>

<span class="p">(</span><span class="o">**</span> <span class="n">Concatenation</span> 
        <span class="n">Both</span> <span class="n">goals</span> <span class="n">are</span> <span class="n">valid</span> <span class="o">*</span><span class="p">)</span>
<span class="n">goal</span> <span class="n">g1</span><span class="p">:</span>
    <span class="n">forall</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span><span class="n">bitv</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span><span class="o">.</span> <span class="n">x</span><span class="nd">@y</span><span class="o">=</span><span class="n">y</span><span class="nd">@x</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">y</span>

<span class="n">goal</span> <span class="n">g2</span><span class="p">:</span>
    <span class="n">forall</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span><span class="n">bitv</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span> <span class="n">x</span><span class="o">@</span><span class="p">[</span><span class="o">|</span><span class="mi">101</span><span class="o">|</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">|</span><span class="mi">000101</span><span class="o">|</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="o">|</span><span class="mi">000</span><span class="o">|</span><span class="p">]</span>
    
<span class="p">(</span><span class="o">**</span> <span class="n">Extraction</span> <span class="n">of</span> <span class="n">contiguous</span> <span class="n">bits</span> <span class="o">*</span>
        <span class="n">All</span> <span class="n">goals</span> <span class="n">are</span> <span class="n">valid</span><span class="p">)</span>
<span class="n">goal</span> <span class="n">g3</span><span class="p">:</span>
    <span class="p">[</span><span class="o">|</span><span class="mi">010</span><span class="o">|</span><span class="p">]</span><span class="o">^</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span><span class="o">=</span><span class="p">[</span><span class="o">|</span><span class="mi">1100</span><span class="o">|</span><span class="p">]</span><span class="o">^</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span>

<span class="n">goal</span> <span class="n">g4</span><span class="p">:</span>
    <span class="n">forall</span> <span class="n">x</span><span class="p">:</span><span class="n">bitv</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span> <span class="n">forall</span> <span class="n">y</span><span class="p">:</span><span class="n">bitv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span>
    <span class="n">x</span><span class="o">=</span><span class="n">y</span><span class="o">@</span><span class="p">[</span><span class="o">|</span><span class="mi">10</span><span class="o">|</span><span class="p">]</span> <span class="o">-&gt;</span>
    <span class="n">x</span><span class="o">^</span><span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">}</span><span class="o">=</span><span class="p">[</span><span class="o">|</span><span class="mi">11</span><span class="o">|</span><span class="p">]</span> <span class="o">-&gt;</span>
    <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="o">|</span><span class="mi">1110</span><span class="o">|</span><span class="p">]</span>

<span class="n">goal</span> <span class="n">g5</span> <span class="p">:</span> 
    <span class="n">forall</span> <span class="n">x</span><span class="p">:</span><span class="n">bitv</span><span class="p">[</span><span class="mi">32</span><span class="p">]</span><span class="o">.</span> <span class="n">forall</span> <span class="n">y</span><span class="p">:</span><span class="n">bitv</span><span class="p">[</span><span class="mi">32</span><span class="p">]</span><span class="o">.</span> <span class="n">forall</span> <span class="n">s</span><span class="p">:</span><span class="n">bitv</span><span class="p">[</span><span class="mi">32</span><span class="p">]</span><span class="o">.</span> 
    <span class="n">s</span> <span class="o">=</span> <span class="n">y</span><span class="o">^</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">}</span> <span class="o">@</span> <span class="n">x</span><span class="o">^</span><span class="p">{</span><span class="mi">16</span><span class="p">,</span><span class="mi">31</span><span class="p">}</span> <span class="o">-&gt;</span>
    <span class="p">(</span><span class="n">s</span><span class="o">^</span><span class="p">{</span><span class="mi">16</span><span class="p">,</span><span class="mi">31</span><span class="p">}</span> <span class="o">=</span> <span class="n">y</span><span class="o">^</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">}</span> <span class="ow">and</span> <span class="n">s</span><span class="o">^</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">}</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="p">{</span><span class="mi">16</span><span class="p">,</span><span class="mi">31</span><span class="p">})</span> 
</pre></div>
</div>
</div>
</div>
<div class="section" id="id3">
<h3>Type variables<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>As type variables and polymorphism have already been described, let’s just look at the following example.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logic</span> <span class="n">f</span><span class="p">:</span> <span class="s1">&#39;a-&gt;&#39;</span><span class="n">b</span>
<span class="n">logic</span> <span class="n">g</span><span class="p">:</span> <span class="s1">&#39;b-&gt;&#39;</span><span class="n">b</span>

<span class="n">axiom</span> <span class="n">a1</span><span class="p">:</span> <span class="n">forall</span> <span class="n">x</span><span class="p">:</span><span class="s1">&#39;a.  g(f(x))=f(x)</span>
<span class="n">axiom</span> <span class="n">a2</span><span class="p">:</span> <span class="n">forall</span> <span class="n">x</span><span class="p">:</span><span class="nb">int</span><span class="o">.</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">=</span><span class="mi">0</span>

<span class="n">goal</span> <span class="n">g1</span><span class="p">:</span> 
   <span class="p">(</span><span class="o">*</span> <span class="n">Valid</span> <span class="o">*</span><span class="p">)</span>
   <span class="n">g</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mf">0.01</span><span class="p">))</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>

<span class="n">goal</span> <span class="n">g2</span><span class="p">:</span> 
   <span class="p">(</span><span class="o">*</span> <span class="n">Valid</span> <span class="o">*</span><span class="p">)</span>
   <span class="n">g</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="o">=</span> <span class="n">g</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">goal</span> <span class="n">g3</span><span class="p">:</span> 
   <span class="p">(</span><span class="o">*</span> <span class="n">I</span> <span class="n">don</span><span class="s1">&#39;t know *)</span>
   <span class="n">g</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mf">0.01</span><span class="p">))</span> <span class="o">=</span> <span class="n">g</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>Polymorphic functional arrays<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>[TODO: add table?]</p>
<p>Remember that <code class="docutils literal notranslate"><span class="pre">farray</span></code> are parametrized by two types: the type of their indexes (default is <code class="docutils literal notranslate"><span class="pre">int</span></code>) and the type of their values (no default).</p>
<div class="section" id="syntax">
<h4>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="n">Instantiation</span> <span class="n">of</span> <span class="n">a</span> <span class="n">farray</span> <span class="nb">type</span> <span class="o">*</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">farray_type</span><span class="o">&gt;</span>        <span class="p">::</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">value_type</span><span class="o">&gt;</span> <span class="s1">&#39;farray&#39;</span>
                       <span class="o">|</span> <span class="s1">&#39;(&#39;</span> <span class="o">&lt;</span><span class="n">index_type</span><span class="o">&gt;</span> <span class="s1">&#39;,&#39;</span> <span class="o">&lt;</span><span class="n">value_type</span><span class="o">&gt;</span> <span class="s1">&#39;)&#39;</span> <span class="s1">&#39;farray&#39;</span>

<span class="p">(</span><span class="o">*</span> <span class="n">Access</span> <span class="o">-</span> <span class="n">this</span> <span class="n">expression</span> <span class="ow">is</span> <span class="n">of</span> <span class="nb">type</span> <span class="p">(</span><span class="n">value_type</span><span class="p">)</span> <span class="o">*</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">farray_access_expr</span><span class="o">&gt;</span> <span class="p">::</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">array_id</span><span class="o">&gt;</span> <span class="s1">&#39;[&#39;</span> <span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="s1">&#39;]&#39;</span>

<span class="p">(</span><span class="o">*</span> <span class="n">Update</span> <span class="o">-</span> <span class="n">this</span> <span class="n">expression</span> <span class="ow">is</span> <span class="n">of</span> <span class="nb">type</span> <span class="p">((</span><span class="n">index_type</span><span class="p">)</span> <span class="p">(</span><span class="n">value_type</span><span class="p">)</span> <span class="n">farray</span><span class="p">)</span> <span class="o">*</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">farray_update_expr</span><span class="o">&gt;</span> <span class="p">::</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">array_id</span><span class="o">&gt;</span> <span class="s1">&#39;[&#39;</span> <span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="s1">&#39;&lt;-&#39;</span> <span class="o">&lt;</span><span class="n">new_value</span><span class="o">&gt;</span> <span class="p">(</span> <span class="s1">&#39;,&#39;</span> <span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="s1">&#39;&lt;-&#39;</span> <span class="o">&lt;</span><span class="n">new_value</span><span class="o">&gt;</span> <span class="p">)</span><span class="o">*</span> <span class="s1">&#39;]&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h4>Examples<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="n">arr1</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">general</span> <span class="n">polymorphic</span> <span class="n">farray</span> <span class="o">*</span><span class="p">)</span>
<span class="n">logic</span> <span class="n">arr1</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;a, &#39;</span><span class="n">b</span><span class="p">)</span> <span class="n">farray</span>
<span class="p">(</span><span class="o">*</span> <span class="n">arr2</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">polymorphic</span> <span class="n">farray</span> <span class="n">whose</span> <span class="n">indexes</span> <span class="n">are</span> <span class="nb">int</span> <span class="o">*</span><span class="p">)</span>
<span class="n">logic</span> <span class="n">arr2</span><span class="p">:</span> <span class="s1">&#39;b farray</span>
<span class="p">(</span><span class="o">*</span> <span class="n">arr3</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">farray</span> <span class="n">whose</span> <span class="n">indexes</span> <span class="n">are</span> <span class="nb">int</span> <span class="ow">and</span> <span class="n">whose</span> <span class="n">values</span> <span class="n">are</span> <span class="n">real</span> <span class="o">*</span><span class="p">)</span>
<span class="n">logic</span> <span class="n">arr3</span><span class="p">:</span> <span class="n">real</span> <span class="n">farray</span>
<span class="p">(</span><span class="o">*</span> <span class="n">arr4</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">farray</span> <span class="n">whose</span> <span class="n">indexes</span> <span class="n">are</span> <span class="n">parametrized</span> <span class="n">by</span> <span class="s1">&#39;a and whose values are real *)</span>
<span class="n">logic</span> <span class="n">arr4</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;a, real) farray</span>
<span class="p">(</span><span class="o">*</span> <span class="n">arr5</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">farray</span> <span class="n">whose</span> <span class="n">indexes</span> <span class="ow">and</span> <span class="n">values</span> <span class="n">are</span> <span class="n">real</span> <span class="o">*</span><span class="p">)</span>
<span class="n">logic</span> <span class="n">arr5</span><span class="p">:</span> <span class="p">(</span><span class="n">real</span><span class="p">,</span> <span class="n">real</span><span class="p">)</span> <span class="n">farray</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="n">Accessing</span> <span class="ow">and</span> <span class="n">updating</span> <span class="n">farrays</span> <span class="o">*</span><span class="p">)</span>
<span class="n">goal</span> <span class="n">g1</span><span class="p">:</span>
    <span class="n">forall</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">:</span><span class="nb">int</span><span class="o">.</span>
    <span class="n">forall</span> <span class="n">v</span><span class="p">,</span><span class="n">w</span><span class="p">:</span><span class="s1">&#39;a.</span>
    <span class="n">forall</span> <span class="n">b</span><span class="p">:</span><span class="s1">&#39;a farray.</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="o">&lt;-</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">k</span><span class="o">&lt;-</span><span class="n">w</span><span class="p">]</span> <span class="o">-&gt;</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-&gt;</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">-&gt;</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-&gt;</span>
    <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="n">Using</span> <span class="n">farrays</span> <span class="k">with</span> <span class="n">custom</span> <span class="n">types</span> <span class="k">for</span> <span class="n">indexes</span> <span class="ow">and</span> <span class="n">values</span> <span class="o">*</span><span class="p">)</span>
<span class="nb">type</span> <span class="n">t</span>  <span class="o">=</span> <span class="n">A</span> <span class="o">|</span> <span class="n">B</span> <span class="o">|</span> <span class="n">C</span> <span class="o">|</span> <span class="n">D</span>
<span class="nb">type</span> <span class="n">t2</span> <span class="o">=</span> <span class="n">E</span> <span class="o">|</span> <span class="n">F</span> <span class="o">|</span> <span class="n">G</span> <span class="o">|</span> <span class="n">H</span>

<span class="n">goal</span> <span class="n">g2</span><span class="p">:</span>
    <span class="n">forall</span> <span class="n">a</span> <span class="p">:</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">t2</span><span class="p">)</span> <span class="n">farray</span><span class="o">.</span>
    <span class="n">a</span><span class="p">[</span><span class="n">B</span> <span class="o">&lt;-</span> <span class="n">E</span><span class="p">][</span><span class="n">A</span><span class="p">]</span> <span class="o">&lt;&gt;</span> <span class="n">E</span> <span class="o">-&gt;</span>
    <span class="n">a</span><span class="p">[</span><span class="n">C</span> <span class="o">&lt;-</span> <span class="n">F</span><span class="p">][</span><span class="n">A</span><span class="p">]</span> <span class="o">&lt;&gt;</span> <span class="n">F</span> <span class="o">-&gt;</span>
    <span class="n">a</span><span class="p">[</span><span class="n">D</span> <span class="o">&lt;-</span> <span class="n">G</span><span class="p">][</span><span class="n">A</span><span class="p">]</span> <span class="o">&lt;&gt;</span> <span class="n">G</span> <span class="o">-&gt;</span>
    <span class="n">a</span><span class="p">[</span><span class="n">A</span><span class="p">]</span> <span class="o">=</span> <span class="n">H</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="02_02_user_defined.html" class="btn btn-neutral float-right" title="User-defined types" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Types" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Alt-Ergo devs.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>