# safelist
#branches:
#  only:
#  - master
#  - next
#  - next+

language: ocaml
sudo: required

before_install:
- sudo apt-get update -qq
- sudo apt-get install -y --allow-unauthenticated -qq git libgmp-dev libgtksourceview2.0-dev zlib1g-dev libgtk2.0-dev libexpat1-dev

- sudo add-apt-repository "deb http://deb.debian.org/debian testing main contrib non-free"
#- sudo add-apt-repository "deb-src http://deb.debian.org/debian testing main contrib non-free"
- sudo add-apt-repository "deb http://deb.debian.org/debian testing-updates main contrib non-free"
#- sudo add-apt-repository "deb-src http://deb.debian.org/debian testing-updates main contrib non-free"
- sudo add-apt-repository "deb http://security.debian.org/ testing/updates main contrib non-free"
#- sudo add-apt-repository "deb-src http://security.debian.org/ testing/updates main contrib non-free"

- sudo apt-get update -qq
- sudo apt-get install -y --allow-unauthenticated -qq ocaml ocaml-native-compilers
- git status

install:
- wget -qq https://raw.github.com/ocaml/opam/master/shell/opam_installer.sh -O - | sh -s /usr/local/bin system
- export OPAMYES=1
- opam init --comp system
- eval `opam config env`

script:
#- sh ./travis.sh
- opam sw
