<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>GlobalDomain (alt-ergo-lib.AltErgoLib.Uf.GlobalDomain)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">alt-ergo-lib</a> &#x00BB; <a href="../../index.html">AltErgoLib</a> &#x00BB; <a href="../index.html">Uf</a> &#x00BB; GlobalDomain</nav><header class="odoc-preamble"><h1>Module type <code><span>Uf.GlobalDomain</span></code></h1><p>Module signature for global domains used by the union-find module.</p><p>A global domain records a set of potentially correlated values for multiple variables at once. This is typically, but not necessarily, an associative mapping of variables to their own independent domain.</p><p><b>Note</b>: This module signature only contains the bare minimum for interaction with the union-find module to be able to update the global domains appropriately when new terms are introduced and equivalence classes are merged. In particular, it purposefully provides no facility to access or modify the global domain to allow more flexibility in the to the implementer.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>The type of global domains.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><a href="#type-t">t</a> <span class="xref-unresolved">Fmt</span>.t</span></span></code></div><div class="spec-doc"><p>Pretty-printer for global domains.</p></div></div><div class="odoc-spec"><div class="spec type extension anchored" id="extension-decl-Id"><a href="#extension-decl-Id" class="anchor"></a><code><span><span class="keyword">type</span> <a href="../index.html#type-id">id</a> += </span></code><ol><li id="extension-Id" class="def variant extension anchored"><a href="#extension-Id" class="anchor"></a><code><span>| </span><span><span class="extension">Id</span> : <span><a href="#type-t">t</a> <a href="../index.html#type-id">id</a></span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Unique identifier for this module. Used for dispatch by the union-find.</p><p><b>Warning</b>: This identifier must be unique; do not re-export the <code>Id</code> from another module (e.g. through <code>include</code>).</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>The empty domain.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-filter_ty"><a href="#val-filter_ty" class="anchor"></a><code><span><span class="keyword">val</span> filter_ty : <span><a href="../../Ty/index.html#type-t">Ty.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Limit the type of terms that this module cares about. Only substitutions of representatives for which <code>filter_ty (type_info r)</code> holds will be propagated to this module.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : <span><a href="../index.html#type-r">r</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>init r t</code> is called when the representative <code>r</code> is added to the union-find, if it has a type that matches <code>filter_ty</code>.</p><p><b>Note</b>: unlike <code>Relation.add</code>, this function is called even for &quot;dynamic&quot; representatives added by <code>X.make</code> or AC normalization.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Inconsistent"><a href="#exception-Inconsistent" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Inconsistent</span> <span class="keyword">of</span> <a href="../../Explanation/index.html#type-t">Explanation.t</a></span></code></div><div class="spec-doc"><p>Raised by <code>subst</code> below when an inconsistency is found while merging the domains.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-subst"><a href="#val-subst" class="anchor"></a><code><span><span class="keyword">val</span> subst : <span><span class="label">ex</span>:<a href="../../Explanation/index.html#type-t">Explanation.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-r">r</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-r">r</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>subst ~ex rr nrr t</code> is called when the representatives <code>rr</code> and <code>nrr</code> are merged with explanation <code>ex</code>. <code>nrr</code> is the new representative; <code>rr</code> should no longer be tracked and the intersection of domains should be associated with <code>nrr</code>.</p><p>The explanation <code>ex</code> justifies the equality <code>rr = nrr</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="#exception-Inconsistent"><code>Inconsistent</code></a> <p>if the domains for <code>rr</code> and <code>nrr</code> are incompatible.</p></li></ul></div></div></div></body></html>
