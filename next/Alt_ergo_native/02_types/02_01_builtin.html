<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Built-in types &mdash; Alt-Ergo Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/versions.css?v=21adeb6f" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../../_static/js/versions.js?v=40211404"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="User-defined types" href="02_02_user_defined.html" />
    <link rel="prev" title="Types" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Alt-Ergo Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Install/index.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Usage/index.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SMT-LIB_language/index.html">SMT-LIB language</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Alt-Ergo's native language</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../00_summary.html"> Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../01_declaration_of_symbols.html"> Declaration of symbols</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html"> Types</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Built-in types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#boolean-types">Boolean types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#numeric-types">Numeric types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unit-type">Unit type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bitvectors">Bitvectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#type-variables">Type variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#polymorphic-functional-arrays">Polymorphic functional arrays</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#built-in-operators">Built-in operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#logical-operators">Logical operators</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#the-bool-prop-conflict">The <code class="docutils literal notranslate"><span class="pre">bool</span></code>/<code class="docutils literal notranslate"><span class="pre">prop</span></code> conflict</a></li>
<li class="toctree-l5"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#numeric-operators">Numeric operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#comparisons">Comparisons</a></li>
<li class="toctree-l4"><a class="reference internal" href="#additional-numeric-primitives">Additional numeric primitives</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#conversion-between-integers-and-reals">Conversion between integers and reals</a></li>
<li class="toctree-l5"><a class="reference internal" href="#square-root">Square root</a></li>
<li class="toctree-l5"><a class="reference internal" href="#internal-primitives">Internal primitives</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Bitvectors</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id3">Examples</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Type variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">Polymorphic functional arrays</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id6">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="02_02_user_defined.html"> User-defined</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../03_declaration_of_axioms.html"> Declaration of axioms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04_setting_goals.html"> Setting goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05_theories.html"> Theories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../06_control_flow.html"> Control Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../07_syntax_of_declarations_and_expressions.html"> Syntax of declarations and expressions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Model_generation.html">Model generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Optimization.html">Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../API/index.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Dev/index.html">Developer's documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../About/index.html">About</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Alt-Ergo Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Alt-Ergo’s native language</a></li>
          <li class="breadcrumb-item"><a href="index.html">Types</a></li>
      <li class="breadcrumb-item active">Built-in types</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="built-in-types">
<h1>Built-in types<a class="headerlink" href="#built-in-types" title="Permalink to this heading"></a></h1>
<p>Alt-Ergo’s native language includes the following built-in types.
Creation and manipulation of values having those types are covered in <a class="reference internal" href="#built-in-operators">built-in operators</a>.</p>
<section id="boolean-types">
<h2>Boolean types<a class="headerlink" href="#boolean-types" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span></code>, the preferred type to represent propositional variables. Boolean constants are <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code>, an historical type still supported in Alt-Ergo 2.3.0.<br />
The historical separation comes from Alt-Ergo origins in the Coq ecosystem: in Coq, <code class="docutils literal notranslate"><span class="pre">prop</span></code> is much richer than <code class="docutils literal notranslate"><span class="pre">bool</span></code>.<br />
In Alt-Ergo 2.3.0, <code class="docutils literal notranslate"><span class="pre">prop</span></code> and <code class="docutils literal notranslate"><span class="pre">bool</span></code> have been merged in order to simplify interactions with the <a class="reference external" href="http://smtlib.cs.uiowa.edu/">SMT-LIB </a> standard.<br />
More information on the <code class="docutils literal notranslate"><span class="pre">bool</span></code>/<code class="docutils literal notranslate"><span class="pre">prop</span></code> conflict can be found in <a class="reference internal" href="#the-bool-prop-conflict">this section</a>.</p></li>
</ul>
</section>
<section id="numeric-types">
<h2>Numeric types<a class="headerlink" href="#numeric-types" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">int</span></code> for (arbitrary large) integers.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">real</span></code> for reals. This type actually represents the smallest extension of the rationals which is algebraically closed and closed by exponentiation. Rationals with arbitrary precision are used under the hood.</p></li>
</ul>
</section>
<section id="unit-type">
<h2>Unit type<a class="headerlink" href="#unit-type" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">unit</span></code> is Alt-Ergo native language’s <a class="reference external" href="https://en.wikipedia.org/wiki/Unit_type">unit type</a>.</p>
</section>
<section id="bitvectors">
<h2>Bitvectors<a class="headerlink" href="#bitvectors" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">bitv</span></code> are fixed-size binary words of arbitrary length.
There exists a bitvector type <code class="docutils literal notranslate"><span class="pre">bitv[n]</span></code> for each non-zero positive integer <code class="docutils literal notranslate"><span class="pre">n</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">bitv[8]</span></code> is a bitvector of length <code class="docutils literal notranslate"><span class="pre">8</span></code>.</p>
</section>
<section id="type-variables">
<h2>Type variables<a class="headerlink" href="#type-variables" title="Permalink to this heading"></a></h2>
<p>Alt-Ergo’s native language’s type system supports prenex polymorphism. This allows efficient reasoning about generic data structure.
Type variables can be created implicitly, and are implicitly universally quantified in all formulas. Any formula which requires a type can accept a type variable.
Type variable may be used to parametrize datatypes, as we will see when we will create new types, or in the following example of <code class="docutils literal notranslate"><span class="pre">farray</span></code>.</p>
<p>Type variables are indicated by an apostrophe <code class="docutils literal notranslate"><span class="pre">'</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">'a</span></code> is a type variable.</p>
</section>
<section id="polymorphic-functional-arrays">
<h2>Polymorphic functional arrays<a class="headerlink" href="#polymorphic-functional-arrays" title="Permalink to this heading"></a></h2>
<p>Alt-Ergo’s native language includes functional polymorphic arrays, represented by the <code class="docutils literal notranslate"><span class="pre">farray</span></code> type, and has a built-in theory to reason about them.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">farray</span></code> is parametrized by two types: the type of their indexes (default is <code class="docutils literal notranslate"><span class="pre">int</span></code>) and the type of their values (no default).
Array can be accessed using any index of valid type.
Functional polymorphic arrays are persistent structures: they may be updated, but only for the scope of an expression.</p>
</section>
</section>
<section id="built-in-operators">
<h1>Built-in operators<a class="headerlink" href="#built-in-operators" title="Permalink to this heading"></a></h1>
<section id="logical-operators">
<h2>Logical operators<a class="headerlink" href="#logical-operators" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>Notation</p></th>
<th class="head"><p>Type(s)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Negation</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">p</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Conjonction</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">and</span> <span class="pre">q</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool,</span> <span class="pre">bool</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Disjonction</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">or</span> <span class="pre">q</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool,</span> <span class="pre">bool</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Implication</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">-&gt;</span> <span class="pre">q</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool,</span> <span class="pre">bool</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Equivalence</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">&lt;-&gt;</span> <span class="pre">q</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool,</span> <span class="pre">bool</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Exclusive or</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">xor</span> <span class="pre">q</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool,</span> <span class="pre">bool</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code></p></td>
</tr>
</tbody>
</table>
<p>For all those operators, <code class="docutils literal notranslate"><span class="pre">bool</span></code> and <code class="docutils literal notranslate"><span class="pre">prop</span></code> are fully interchangeable.</p>
<section id="the-bool-prop-conflict">
<span id="id1"></span><h3>The <code class="docutils literal notranslate"><span class="pre">bool</span></code>/<code class="docutils literal notranslate"><span class="pre">prop</span></code> conflict<a class="headerlink" href="#the-bool-prop-conflict" title="Permalink to this heading"></a></h3>
<p>Prior to Alt-Ergo 2.3.0, Alt-Ergo’s native language handled differently boolean variables <code class="docutils literal notranslate"><span class="pre">bool</span></code> and propositional variables <code class="docutils literal notranslate"><span class="pre">prop</span></code>.
The two keywords still exist in Alt-Ergo 2.3.0, but those two types have been made fully compatible: any function or operator taking a <code class="docutils literal notranslate"><span class="pre">bool</span></code> or a <code class="docutils literal notranslate"><span class="pre">prop</span></code> as an argument accepts both.</p>
<p>The historical separation comes from Alt-Ergo origins in the Coq ecosystem: in Coq, <code class="docutils literal notranslate"><span class="pre">prop</span></code> is much richer than <code class="docutils literal notranslate"><span class="pre">bool</span></code>.
In Alt-Ergo 2.3.0, <code class="docutils literal notranslate"><span class="pre">prop</span></code> and <code class="docutils literal notranslate"><span class="pre">bool</span></code> have been merged in order to simplify interactions with the <a class="reference external" href="http://smtlib.cs.uiowa.edu/">SMT-LIB </a> standard.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">bool</span></code> can be used in more syntactic constructs than <code class="docutils literal notranslate"><span class="pre">prop</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code> <strong>cannot</strong> be the input or output type of a <em>interpreted function</em> (<code class="docutils literal notranslate"><span class="pre">function</span></code> keyword), whereas <code class="docutils literal notranslate"><span class="pre">bool</span></code> can.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code> <strong>cannot</strong> be used in the <em>declaration of new types</em> (<code class="docutils literal notranslate"><span class="pre">type</span></code> keyword), whereas <code class="docutils literal notranslate"><span class="pre">bool</span></code> can.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code> <strong>cannot</strong> be used as the value of a type variable, whereas <code class="docutils literal notranslate"><span class="pre">bool</span></code> can.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code> <strong>cannot</strong> be the input of an <em>uninterpreted function</em> (<code class="docutils literal notranslate"><span class="pre">logic</span></code> keyword), whereas <code class="docutils literal notranslate"><span class="pre">bool</span></code> can.
In all other cases, it is advised the use <code class="docutils literal notranslate"><span class="pre">prop</span></code> rather than <code class="docutils literal notranslate"><span class="pre">bool</span></code>, because it is better handled internally by Alt-Ergo. However, using <code class="docutils literal notranslate"><span class="pre">bool</span></code> would be correct.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code> and <code class="docutils literal notranslate"><span class="pre">bool</span></code> <strong>can</strong> be the output type of an <em>uninterpreted function</em> (<code class="docutils literal notranslate"><span class="pre">logic</span></code> keyword).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prop</span></code> and <code class="docutils literal notranslate"><span class="pre">bool</span></code> <strong>can</strong> be the type of an <em>uninterpreted variable</em> (<code class="docutils literal notranslate"><span class="pre">logic</span></code> keyword).
Note that a <code class="docutils literal notranslate"><span class="pre">predicate</span></code> has <code class="docutils literal notranslate"><span class="pre">prop</span></code> output type.</p></li>
</ul>
</section>
<section id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h3>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="c">(* Correct example *)</span>
<span class="k">logic</span> <span class="n">A</span><span class="o">,</span><span class="n">B</span><span class="o">,</span><span class="n">C</span><span class="o">:</span> <span class="k">prop</span>
<span class="k">axiom</span> <span class="n">a1</span><span class="o">:</span> <span class="n">A</span> <span class="o">-&gt;</span> <span class="n">B</span>
<span class="k">axiom</span> <span class="n">a2</span><span class="o">:</span> <span class="n">B</span> <span class="o">-&gt;</span> <span class="n">C</span>
<span class="k">goal</span> <span class="n">g</span><span class="o">:</span> <span class="o">(</span><span class="n">B</span><span class="o">-&gt;</span><span class="n">A</span><span class="o">)</span> <span class="ow">and</span> <span class="o">(</span><span class="n">C</span><span class="o">-&gt;</span><span class="n">B</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="n">A</span> <span class="o">&lt;-&gt;</span> <span class="n">C</span><span class="o">)</span>
</pre></div>
</div>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="c">(* Equivalent example using bool *)</span>
<span class="k">logic</span> <span class="n">A</span><span class="o">,</span><span class="n">B</span><span class="o">,</span><span class="n">C</span><span class="o">:</span> <span class="kt">bool</span>
<span class="k">axiom</span> <span class="n">a1</span><span class="o">:</span> <span class="n">A</span> <span class="o">-&gt;</span> <span class="n">B</span>
<span class="k">axiom</span> <span class="n">a2</span><span class="o">:</span> <span class="n">B</span> <span class="o">-&gt;</span> <span class="n">C</span>
<span class="k">goal</span> <span class="n">g</span><span class="o">:</span> <span class="o">(</span><span class="n">B</span><span class="o">-&gt;</span><span class="n">A</span><span class="o">)</span> <span class="ow">and</span> <span class="o">(</span><span class="n">C</span><span class="o">-&gt;</span><span class="n">B</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="n">A</span> <span class="o">&lt;-&gt;</span> <span class="n">C</span><span class="o">)</span>
</pre></div>
</div>
</section>
</section>
<section id="numeric-operators">
<h2>Numeric operators<a class="headerlink" href="#numeric-operators" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>Notation</p></th>
<th class="head"><p>Type(s)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Unary negative</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-x</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">int</span></code>, <br><code class="docutils literal notranslate"><span class="pre">real</span> <span class="pre">-&gt;</span> <span class="pre">real</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Addition</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int,</span> <span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">int</span></code>, <br><code class="docutils literal notranslate"><span class="pre">real,</span> <span class="pre">real</span> <span class="pre">-&gt;</span> <span class="pre">real</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Subtraction</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int,</span> <span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">int</span></code>, <br><code class="docutils literal notranslate"><span class="pre">real,</span> <span class="pre">real</span> <span class="pre">-&gt;</span> <span class="pre">real</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Multiplication</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">*</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int,</span> <span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">int</span></code>, <br><code class="docutils literal notranslate"><span class="pre">real,</span> <span class="pre">real</span> <span class="pre">-&gt;</span> <span class="pre">real</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Division</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">/</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int,</span> <span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">int</span></code>, <br><code class="docutils literal notranslate"><span class="pre">real,</span> <span class="pre">real</span> <span class="pre">-&gt;</span> <span class="pre">real</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Remainder</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int,</span> <span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">int</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Exponentiation (<code class="docutils literal notranslate"><span class="pre">int</span></code>)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">**</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int,</span> <span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">int</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Exponentiation (<code class="docutils literal notranslate"><span class="pre">real</span></code>)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">**.</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">real,</span> <span class="pre">real</span> <span class="pre">-&gt;</span> <span class="pre">real</span></code>, <br><code class="docutils literal notranslate"><span class="pre">real,</span> <span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">real</span></code>, <br><code class="docutils literal notranslate"><span class="pre">int,</span> <span class="pre">real</span> <span class="pre">-&gt;</span> <span class="pre">real</span></code>, <br><code class="docutils literal notranslate"><span class="pre">int,</span> <span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">real</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="comparisons">
<h2>Comparisons<a class="headerlink" href="#comparisons" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>Notation</p></th>
<th class="head"><p>Type(s)</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Equality</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'a,</span> <span class="pre">'a</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'a</span></code> can be any type</p></td>
</tr>
<tr class="row-odd"><td><p>Inequality</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;&gt;</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'a,</span> <span class="pre">'a</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code></p></td>
<td><p>Syntactic sugar for <code class="docutils literal notranslate"><span class="pre">not(x</span> <span class="pre">=</span> <span class="pre">y)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>All distinct</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">distinct(x1,x2,x3,</span> <span class="pre">...,</span> <span class="pre">xn)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'a,</span> <span class="pre">'a,</span> <span class="pre">...,</span> <span class="pre">'a</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code></p></td>
<td><p>Can be used on any number of operands. <br> Syntactic sugar for  <code class="docutils literal notranslate"><span class="pre">(x1&lt;&gt;x2)</span> <span class="pre">and</span> <span class="pre">...</span> <span class="pre">and</span> <span class="pre">(x1&lt;&gt;xn)</span> <span class="pre">and</span> <span class="pre">(x2&lt;&gt;x3)</span> <span class="pre">and</span> <span class="pre">...</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Strictly less than</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int,</span> <span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code>, <br><code class="docutils literal notranslate"><span class="pre">real,</span> <span class="pre">real</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Lesser than or equal to</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int,</span> <span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code>, <br><code class="docutils literal notranslate"><span class="pre">real,</span> <span class="pre">real</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Strictly greater than</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int,</span> <span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code>, <br><code class="docutils literal notranslate"><span class="pre">real,</span> <span class="pre">real</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Greater than or equal to</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&gt;=</span> <span class="pre">y</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int,</span> <span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code>, <br><code class="docutils literal notranslate"><span class="pre">real,</span> <span class="pre">real</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p>Note that binary comparisons operators can be chained: if <code class="docutils literal notranslate"><span class="pre">op1</span></code>, <code class="docutils literal notranslate"><span class="pre">op2</span></code>, … are binary comparisons operators, than <code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">op1</span> <span class="pre">x1</span> <span class="pre">op2</span> <span class="pre">x2</span> <span class="pre">...</span></code> has the same semantic as <code class="docutils literal notranslate"><span class="pre">(x0</span> <span class="pre">op1</span> <span class="pre">x1)</span> <span class="pre">and</span> <span class="pre">(x1</span> <span class="pre">op2</span> <span class="pre">x2)</span> <span class="pre">and</span> <span class="pre">...</span></code>.</p>
<p>One use of this is the creation of intervals, as in the following example.</p>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="c">(* Linear arithmetic over integers *)</span>
<span class="k">goal</span> <span class="n">g</span><span class="o">:</span>
    <span class="k">forall</span> <span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">,</span><span class="n">z</span><span class="o">,</span><span class="n">t</span><span class="o">:</span><span class="kt">int</span><span class="o">.</span>
    <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span> <span class="o">&lt;=</span> <span class="mi">1</span>  <span class="o">-&gt;</span>
    <span class="n">x</span> <span class="o">+</span> <span class="n">t</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-&gt;</span>
    <span class="n">y</span> <span class="o">+</span> <span class="n">z</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="o">-&gt;</span>
    <span class="n">x</span> <span class="o">+</span> <span class="n">t</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</section>
<section id="additional-numeric-primitives">
<h2>Additional numeric primitives<a class="headerlink" href="#additional-numeric-primitives" title="Permalink to this heading"></a></h2>
<p>Alt-Ergo provides built-in primitives for mixed integers and real problems,
along with some limited reasoning support, typically restricted to constants.
These primitives are only available in the native input format.</p>
<section id="conversion-between-integers-and-reals">
<h3>Conversion between integers and reals<a class="headerlink" href="#conversion-between-integers-and-reals" title="Permalink to this heading"></a></h3>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="k">logic</span> <span class="n">real_of_int</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">real</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">real_of_int</span></code> converts an integer into its representation as a real number.</p>
<p><em>Note</em>: <code class="docutils literal notranslate"><span class="pre">real_of_int</span></code> is also available in the smtlib2 format as the <code class="docutils literal notranslate"><span class="pre">to_real</span></code>
function from the <code class="docutils literal notranslate"><span class="pre">Reals_Ints</span></code> theory.</p>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="k">logic</span> <span class="n">int_floor</span> <span class="o">:</span> <span class="kt">real</span> <span class="o">-&gt;</span> <span class="kt">int</span>
<span class="k">logic</span> <span class="n">int_ceil</span> <span class="o">:</span> <span class="kt">real</span> <span class="o">-&gt;</span> <span class="kt">int</span>
<span class="k">logic</span> <span class="n">real_is_int</span> <span class="o">:</span> <span class="kt">real</span> <span class="o">-&gt;</span> <span class="kt">bool</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">int_floor</span></code> and <code class="docutils literal notranslate"><span class="pre">int_ceil</span></code> implement the usual <code class="docutils literal notranslate"><span class="pre">floor</span></code> and <code class="docutils literal notranslate"><span class="pre">ceil</span></code> functions.
They compute the greatest integer less than a real and the least integer
greater than a real, respectively.</p>
<p><code class="docutils literal notranslate"><span class="pre">real_is_int</span></code> is true for reals that are exact integers, and false otherwise.</p>
<p><em>Note</em>: <code class="docutils literal notranslate"><span class="pre">int_floor</span></code> and <code class="docutils literal notranslate"><span class="pre">real_is_int</span></code> are also available in the smtlib2 format
as the <code class="docutils literal notranslate"><span class="pre">to_int</span></code> and <code class="docutils literal notranslate"><span class="pre">is_int</span></code> functions from the <code class="docutils literal notranslate"><span class="pre">Reals_Ints</span></code> theory
respectively.</p>
</section>
<section id="square-root">
<h3>Square root<a class="headerlink" href="#square-root" title="Permalink to this heading"></a></h3>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="k">logic</span> <span class="n">sqrt_real</span> <span class="o">:</span> <span class="kt">real</span> <span class="o">-&gt;</span> <span class="kt">real</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">sqrt_real</span></code> function denotes the square root of a real number.</p>
</section>
<section id="internal-primitives">
<h3>Internal primitives<a class="headerlink" href="#internal-primitives" title="Permalink to this heading"></a></h3>
<p>Alt-Ergo also implements additional primitives that are tuned for specific
internal use cases. They are only listed here for completeness and adventurous
users, but their use should be avoided. Support for these primitives may be
removed without notice in future versions of Alt-Ergo.</p>
<p>In particular, the <code class="docutils literal notranslate"><span class="pre">abs_real</span></code>, <code class="docutils literal notranslate"><span class="pre">abs_int</span></code>, <code class="docutils literal notranslate"><span class="pre">max_real</span></code>, <code class="docutils literal notranslate"><span class="pre">max_int</span></code> and <code class="docutils literal notranslate"><span class="pre">min_int</span></code>
functions were introduced prior to <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">..</span> <span class="pre">then</span> <span class="pre">..</span> <span class="pre">else</span> <span class="pre">..</span></code> statements in
Alt-Ergo. They are preserved due to being used internally for floating-point
reasoning, but should not be used outside of the solver. Prefer defining these
functions using <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">..</span> <span class="pre">then</span> <span class="pre">..</span> <span class="pre">else</span> <span class="pre">..</span></code> instead.</p>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="k">logic</span> <span class="n">abs_real</span> <span class="o">:</span> <span class="kt">real</span> <span class="o">-&gt;</span> <span class="kt">real</span>
<span class="k">logic</span> <span class="n">abs_int</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">int</span>
<span class="k">logic</span> <span class="n">max_real</span> <span class="o">:</span> <span class="kt">real</span><span class="o">,</span> <span class="kt">real</span> <span class="o">-&gt;</span> <span class="kt">real</span>
<span class="k">logic</span> <span class="n">max_int</span> <span class="o">:</span> <span class="kt">int</span><span class="o">,</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">int</span>
<span class="k">logic</span> <span class="n">min_int</span> <span class="o">:</span> <span class="kt">int</span><span class="o">,</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">int</span>
<span class="k">logic</span> <span class="n">sqrt_real_default</span> <span class="o">:</span> <span class="kt">real</span> <span class="o">-&gt;</span> <span class="kt">real</span>
<span class="k">logic</span> <span class="n">sqrt_real_excess</span> <span class="o">:</span> <span class="kt">real</span> <span class="o">-&gt;</span> <span class="kt">real</span>
<span class="k">logic</span> <span class="n">integer_log2</span> <span class="o">:</span> <span class="kt">real</span> <span class="o">-&gt;</span> <span class="kt">int</span>
</pre></div>
</div>
</section>
</section>
<section id="id2">
<h2>Bitvectors<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h2>
<p>Remember that bitvectors are fixed-size binary words: vectors of <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>There exists a bitvector type <code class="docutils literal notranslate"><span class="pre">bitv[n]</span></code> for each fixed non-zero positive integer <code class="docutils literal notranslate"><span class="pre">n</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">bitv[8]</span></code> is a bitvector.</p>
<p>Note that bitvectors are indexed from right to left.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>Notation</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Explicit declaration</p></td>
<td><p>`[</p></td>
<td><p><x></p></td>
</tr>
<tr class="row-odd"><td><p>Concatenation</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&#64;</span> <span class="pre">y</span></code></p></td>
<td><p>bitv[n], bitv[m] -&gt; bitv[n+m]</p></td>
</tr>
<tr class="row-even"><td><p>Extraction of contiguous bits</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x^{p,q}</span></code> <br> where 0&lt;=p&lt;=q&lt;len(x)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bitv[q-p+1]</span></code></p></td>
</tr>
</tbody>
</table>
<section id="id3">
<h3>Examples<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="c">(** Usage of bitv types *)</span>
<span class="k">logic</span> <span class="n">register</span><span class="o">:</span> <span class="k">bitv</span><span class="o">[</span><span class="mi">8</span><span class="o">]</span>

<span class="c">(** Explicit declaration *)</span>
<span class="k">axiom</span> <span class="n">a</span><span class="o">:</span> <span class="n">register</span> <span class="o">=</span> <span class="o">[|</span><span class="mi">00101010</span><span class="o">|]</span>

<span class="c">(** Concatenation </span>
<span class="c">        Both goals are valid *)</span>
<span class="k">goal</span> <span class="n">g1</span><span class="o">:</span>
    <span class="k">forall</span> <span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">:</span><span class="k">bitv</span><span class="o">[</span><span class="mi">16</span><span class="o">].</span> <span class="n">x</span><span class="o">@</span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="o">@</span><span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">y</span>

<span class="k">goal</span> <span class="n">g2</span><span class="o">:</span>
    <span class="k">forall</span> <span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">:</span><span class="k">bitv</span><span class="o">[</span><span class="mi">3</span><span class="o">].</span> <span class="n">x</span><span class="o">@[|</span><span class="mi">101</span><span class="o">|]</span> <span class="o">=</span> <span class="o">[|</span><span class="mi">000101</span><span class="o">|]</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">=[|</span><span class="mi">000</span><span class="o">|]</span>
    
<span class="c">(** Extraction of contiguous bits *</span>
<span class="c">        All goals are valid)</span>
<span class="c">goal g3:</span>
<span class="c">    [|010|]^{0,1}=[|1100|]^{1,2}</span>

<span class="c">goal g4:</span>
<span class="c">    forall x:bitv[4]. forall y:bitv[2].</span>
<span class="c">    x=y@[|10|] -&gt;</span>
<span class="c">    x^{2,3}=[|11|] -&gt;</span>
<span class="c">    x=[|1110|]</span>

<span class="c">goal g5 : </span>
<span class="c">    forall x:bitv[32]. forall y:bitv[32]. forall s:bitv[32]. </span>
<span class="c">    s = y^{0,15} @ x^{16,31} -&gt;</span>
<span class="c">    (s^{16,31} = y^{0,15} and s^{0,15} = x^{16,31}) </span>
</pre></div>
</div>
</section>
</section>
<section id="id4">
<h2>Type variables<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h2>
<p>As type variables and polymorphism have already been described, let’s just look at the following example.</p>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="k">logic</span> <span class="n">f</span><span class="o">:</span> <span class="k">&#39;</span><span class="n">a</span><span class="o">-&gt;</span><span class="k">&#39;</span><span class="n">b</span>
<span class="k">logic</span> <span class="n">g</span><span class="o">:</span> <span class="k">&#39;</span><span class="n">b</span><span class="o">-&gt;</span><span class="k">&#39;</span><span class="n">b</span>

<span class="k">axiom</span> <span class="n">a1</span><span class="o">:</span> <span class="k">forall</span> <span class="n">x</span><span class="o">:</span><span class="k">&#39;</span><span class="n">a</span><span class="o">.</span>  <span class="n">g</span><span class="o">(</span><span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">))=</span><span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)</span>
<span class="k">axiom</span> <span class="n">a2</span><span class="o">:</span> <span class="k">forall</span> <span class="n">x</span><span class="o">:</span><span class="kt">int</span><span class="o">.</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)=</span><span class="mi">0</span>

<span class="k">goal</span> <span class="n">g1</span><span class="o">:</span> 
   <span class="c">(* Valid *)</span>
   <span class="n">g</span><span class="o">(</span><span class="n">f</span><span class="o">(</span><span class="mi">0</span><span class="o">.</span><span class="mi">01</span><span class="o">))</span> <span class="o">=</span> <span class="n">f</span><span class="o">(</span><span class="mi">0</span><span class="o">.</span><span class="mi">01</span><span class="o">)</span>

<span class="k">goal</span> <span class="n">g2</span><span class="o">:</span> 
   <span class="c">(* Valid *)</span>
   <span class="n">g</span><span class="o">(</span><span class="n">f</span><span class="o">(</span><span class="mi">1</span><span class="o">))</span> <span class="o">=</span> <span class="n">g</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span>

<span class="k">goal</span> <span class="n">g3</span><span class="o">:</span> 
   <span class="c">(* I don&#39;t know *)</span>
   <span class="n">g</span><span class="o">(</span><span class="n">f</span><span class="o">(</span><span class="mi">0</span><span class="o">.</span><span class="mi">01</span><span class="o">))</span> <span class="o">=</span> <span class="n">g</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span>
</pre></div>
</div>
</section>
<section id="id5">
<h2>Polymorphic functional arrays<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h2>
<p>[TODO: add table?]</p>
<p>Remember that <code class="docutils literal notranslate"><span class="pre">farray</span></code> are parametrized by two types: the type of their indexes (default is <code class="docutils literal notranslate"><span class="pre">int</span></code>) and the type of their values (no default).</p>
<section id="syntax">
<h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this heading"></a></h3>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="c">(* Instantiation of a farray type *)</span>
<span class="o">&lt;</span><span class="n">farray_type</span><span class="o">&gt;</span>        <span class="o">::=</span> <span class="o">&lt;</span><span class="n">value_type</span><span class="o">&gt;</span> <span class="k">&#39;</span><span class="n">farray&#39;</span>
                       <span class="o">|</span> <span class="k">&#39;</span><span class="o">(</span><span class="k">&#39;</span> <span class="o">&lt;</span><span class="n">index_type</span><span class="o">&gt;</span> <span class="k">&#39;</span><span class="o">,</span><span class="k">&#39;</span> <span class="o">&lt;</span><span class="n">value_type</span><span class="o">&gt;</span> <span class="k">&#39;</span><span class="o">)</span><span class="k">&#39;</span> <span class="k">&#39;</span><span class="n">farray&#39;</span>

<span class="c">(* Access - this expression is of type (value_type) *)</span>
<span class="o">&lt;</span><span class="n">farray_access_expr</span><span class="o">&gt;</span> <span class="o">::=</span> <span class="o">&lt;</span><span class="n">array_id</span><span class="o">&gt;</span> <span class="k">&#39;</span><span class="o">[</span><span class="k">&#39;</span> <span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="k">&#39;</span><span class="o">]</span><span class="k">&#39;</span>

<span class="c">(* Update - this expression is of type ((index_type) (value_type) farray) *)</span>
<span class="o">&lt;</span><span class="n">farray_update_expr</span><span class="o">&gt;</span> <span class="o">::=</span> <span class="o">&lt;</span><span class="n">array_id</span><span class="o">&gt;</span> <span class="k">&#39;</span><span class="o">[</span><span class="k">&#39;</span> <span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="k">&#39;</span><span class="o">&lt;-</span><span class="k">&#39;</span> <span class="o">&lt;</span><span class="n">new_value</span><span class="o">&gt;</span> <span class="o">(</span> <span class="k">&#39;</span><span class="o">,</span><span class="k">&#39;</span> <span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="k">&#39;</span><span class="o">&lt;-</span><span class="k">&#39;</span> <span class="o">&lt;</span><span class="n">new_value</span><span class="o">&gt;</span> <span class="o">)*</span> <span class="k">&#39;</span><span class="o">]</span><span class="k">&#39;</span>
</pre></div>
</div>
</section>
<section id="id6">
<h3>Examples<a class="headerlink" href="#id6" title="Permalink to this heading"></a></h3>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="c">(* arr1 is a general polymorphic farray *)</span>
<span class="k">logic</span> <span class="n">arr1</span><span class="o">:</span> <span class="o">(</span><span class="k">&#39;</span><span class="n">a</span><span class="o">,</span> <span class="k">&#39;</span><span class="n">b</span><span class="o">)</span> <span class="n">farray</span>
<span class="c">(* arr2 is a polymorphic farray whose indexes are int *)</span>
<span class="k">logic</span> <span class="n">arr2</span><span class="o">:</span> <span class="k">&#39;</span><span class="n">b</span> <span class="n">farray</span>
<span class="c">(* arr3 is a farray whose indexes are int and whose values are real *)</span>
<span class="k">logic</span> <span class="n">arr3</span><span class="o">:</span> <span class="kt">real</span> <span class="n">farray</span>
<span class="c">(* arr4 is a farray whose indexes are parametrized by &#39;a and whose values are real *)</span>
<span class="k">logic</span> <span class="n">arr4</span><span class="o">:</span> <span class="o">(</span><span class="k">&#39;</span><span class="n">a</span><span class="o">,</span> <span class="kt">real</span><span class="o">)</span> <span class="n">farray</span>
<span class="c">(* arr5 is a farray whose indexes and values are real *)</span>
<span class="k">logic</span> <span class="n">arr5</span><span class="o">:</span> <span class="o">(</span><span class="kt">real</span><span class="o">,</span> <span class="kt">real</span><span class="o">)</span> <span class="n">farray</span>
</pre></div>
</div>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="c">(* Accessing and updating farrays *)</span>
<span class="k">goal</span> <span class="n">g1</span><span class="o">:</span>
    <span class="k">forall</span> <span class="n">i</span><span class="o">,</span><span class="n">j</span><span class="o">,</span><span class="n">k</span><span class="o">:</span><span class="kt">int</span><span class="o">.</span>
    <span class="k">forall</span> <span class="n">v</span><span class="o">,</span><span class="n">w</span><span class="o">:</span><span class="k">&#39;</span><span class="n">a</span><span class="o">.</span>
    <span class="k">forall</span> <span class="n">b</span><span class="o">:</span><span class="k">&#39;</span><span class="n">a</span> <span class="n">farray</span><span class="o">.</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="o">[</span><span class="n">j</span><span class="o">&lt;-</span><span class="n">b</span><span class="o">[</span><span class="n">i</span><span class="o">],</span><span class="n">k</span><span class="o">&lt;-</span><span class="n">w</span><span class="o">]</span> <span class="o">-&gt;</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-&gt;</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">-&gt;</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-&gt;</span>
    <span class="n">b</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">b</span><span class="o">[</span><span class="n">j</span><span class="o">]</span>
</pre></div>
</div>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="c">(* Using farrays with custom types for indexes and values *)</span>
<span class="k">type</span> <span class="n">t</span>  <span class="o">=</span> <span class="n">A</span> <span class="o">|</span> <span class="n">B</span> <span class="o">|</span> <span class="n">C</span> <span class="o">|</span> <span class="n">D</span>
<span class="k">type</span> <span class="n">t2</span> <span class="o">=</span> <span class="n">E</span> <span class="o">|</span> <span class="n">F</span> <span class="o">|</span> <span class="n">G</span> <span class="o">|</span> <span class="n">H</span>

<span class="k">goal</span> <span class="n">g2</span><span class="o">:</span>
    <span class="k">forall</span> <span class="n">a</span> <span class="o">:</span> <span class="o">(</span><span class="n">t</span><span class="o">,</span><span class="n">t2</span><span class="o">)</span> <span class="n">farray</span><span class="o">.</span>
    <span class="n">a</span><span class="o">[</span><span class="n">B</span> <span class="o">&lt;-</span> <span class="n">E</span><span class="o">][</span><span class="n">A</span><span class="o">]</span> <span class="o">&lt;&gt;</span> <span class="n">E</span> <span class="o">-&gt;</span>
    <span class="n">a</span><span class="o">[</span><span class="n">C</span> <span class="o">&lt;-</span> <span class="n">F</span><span class="o">][</span><span class="n">A</span><span class="o">]</span> <span class="o">&lt;&gt;</span> <span class="n">F</span> <span class="o">-&gt;</span>
    <span class="n">a</span><span class="o">[</span><span class="n">D</span> <span class="o">&lt;-</span> <span class="n">G</span><span class="o">][</span><span class="n">A</span><span class="o">]</span> <span class="o">&lt;&gt;</span> <span class="n">G</span> <span class="o">-&gt;</span>
    <span class="n">a</span><span class="o">[</span><span class="n">A</span><span class="o">]</span> <span class="o">=</span> <span class="n">H</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Types" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="02_02_user_defined.html" class="btn btn-neutral float-right" title="User-defined types" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020 - 2023, Alt-Ergo developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script type="application/json" id="CURRENT_VERSION">{"slug": "next"}</script><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>